# Hospital Readmission Risk Predictor Environment Configuration

# Application Settings
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_RATE_LIMIT=100
PREDICTION_THRESHOLD=0.5

# Database Configuration
DATABASE_URL=postgresql://postgres:password@localhost:5432/readmission
DB_HOST=localhost
DB_PORT=5432
DB_NAME=readmission
DB_USER=postgres
DB_PASSWORD=password

# MLflow Configuration
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_REGISTRY_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=hospital_readmission

# JWT Configuration
SECRET_KEY=your-super-secret-jwt-key-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM=HS256

# Model Configuration
MODELS_DIR=models/
MODEL_VERSION=1.0.0
FEATURE_ENGINEER_PATH=models/feature_engineer.pkl
BEST_MODEL_PATH=models/best_model.pkl

# Monitoring Configuration
MONITORING_ENABLED=true
DRIFT_DETECTION_ENABLED=true
DATA_QUALITY_MONITORING=true
MONITORING_INTERVAL=300

# Data Configuration
DATA_DIR=data/
RAW_DATA_PATH=data/raw/hospital_readmissions.csv
PROCESSED_DATA_PATH=data/processed/hospital_readmissions_processed.csv
REFERENCE_DATA_PATH=data/processed/hospital_readmissions_processed.csv

# Security Configuration
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
ALLOWED_HOSTS=["localhost", "127.0.0.1", "0.0.0.0"]

# Logging Configuration
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Feature Engineering Configuration
CATEGORICAL_FEATURES=["sex", "insurance", "discharge_disposition", "icu_stay", "high_risk_meds_flag", "followup_scheduled", "icd_I50", "icd_E11", "icd_I25", "icd_I10", "icd_N18"]
NUMERICAL_FEATURES=["age", "charlson_index", "prior_readmit_30d", "prior_readmit_365d", "ed_visits_180d", "los_days", "procedures_count", "meds_count", "days_to_followup", "deprivation_index", "icd_count"]
TARGET_COLUMN=readmitted_30d

# Model Training Configuration
RANDOM_STATE=42
TEST_SIZE=0.2
VALIDATION_SIZE=0.2
CV_FOLDS=5
HYPERPARAMETER_TUNING=true

# Performance Metrics
METRICS=["accuracy", "precision", "recall", "f1", "auroc", "auprc", "brier_score"]

# Feature Selection
FEATURE_SELECTION_METHOD=mutual_info
MIN_FEATURES=10
MAX_FEATURES=50

# Model Selection
MODELS_TO_TRAIN=["logistic_regression", "random_forest", "xgboost", "catboost"]
ENSEMBLE_METHOD=voting
VOTING_STRATEGY=soft

# Calibration
CALIBRATION_METHOD=isotonic
CALIBRATION_CV_FOLDS=3

# SHAP Configuration
SHAP_EXPLAINER_TYPE=auto
SHAP_BACKGROUND_SAMPLES=100
SHAP_MAX_FEATURES=20

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=20
RATE_LIMIT_BURST=5
RATE_LIMIT_WINDOW=60

# User Role Rate Limits
RATE_LIMIT_CLINICIAN=60
RATE_LIMIT_NURSE=30
RATE_LIMIT_ADMIN=120
RATE_LIMIT_RESEARCHER=90

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=backups/

# Email Configuration (for notifications)
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true

# External API Configuration
EXTERNAL_API_ENABLED=false
EXTERNAL_API_BASE_URL=
EXTERNAL_API_KEY=
EXTERNAL_API_TIMEOUT=30

# Cache Configuration
CACHE_ENABLED=true
CACHE_TYPE=memory
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Session Configuration
SESSION_SECRET_KEY=your-session-secret-key
SESSION_TIMEOUT=3600
SESSION_REFRESH=true

# File Upload Configuration
MAX_FILE_SIZE=10MB
ALLOWED_FILE_TYPES=["csv", "xlsx", "xls"]
UPLOAD_PATH=uploads/

# Testing Configuration
TESTING_ENABLED=true
TEST_DATA_PATH=tests/test_data/
TEST_MODELS_PATH=tests/test_models/
COVERAGE_ENABLED=true
COVERAGE_THRESHOLD=80

# Development Configuration
RELOAD_ENABLED=true
AUTO_RELOAD=true
DEBUG_TOOLBAR_ENABLED=false
PROFILING_ENABLED=false

# Production Configuration
PRODUCTION_HOST=0.0.0.0
PRODUCTION_PORT=8000
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50
TIMEOUT=30
KEEPALIVE=2

